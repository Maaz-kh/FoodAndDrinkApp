<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:views="clr-namespace:FoodAndDrinkApp.Views"
             xmlns:local="clr-namespace:FoodAndDrinkApp.Views"
             x:Class="FoodAndDrinkApp.Views.HomePage"
             BackgroundColor="#f5f5f5">

    <Grid>
        <VerticalStackLayout>
            <!-- Top Navigation Bar -->
            <Grid Padding="0,10,0,10"
                  ColumnDefinitions="*,Auto"
                  RowDefinitions="Auto,2"
                  BackgroundColor="Transparent"
                   >

                <Label Text="FlavourNest"
                       FontSize="26"
                       FontAttributes="Bold"
                       TextColor="Black"
                       VerticalOptions="Center"
                       Margin="20,0,0,5"
                       />

                <Button Text="+ Add"
                        Clicked="OnAddRecipeClicked"
                        BackgroundColor="#ff6b6b"
                        TextColor="White"
                        FontAttributes="Bold"
                        CornerRadius="10"
                        Padding="15,0,15,0"
                        FontSize="16"
                        VerticalOptions="Center"
                        Grid.Column="1" 
                        Margin="15,10,15,10"
                        />

                <!-- Bottom Border -->
                <BoxView Grid.Row="1"
                         Grid.ColumnSpan="2"
                         HeightRequest="1"
                         Color="LightGray" 
                         Margin="0,10,0,10"
                        />

                <!-- Optional Shadow -->
                <BoxView Grid.Row="1"
                         Grid.ColumnSpan="2"
                         HeightRequest="3"
                         Color="Transparent">
                    <BoxView.Shadow>
                        <Shadow Brush="Gray"
                                Opacity="0.2"
                                Offset="0,2"
                                Radius="4" />
                    </BoxView.Shadow>
                </BoxView>
            </Grid>

            <!-- Recipe Grid -->
            <ScrollView>
                <Grid x:Name="RecipesGrid"
                      Padding="14"
                      ColumnSpacing="10"
                      RowSpacing="10">
                    <!-- Cards added from code-behind -->
                </Grid>
            </ScrollView>
        </VerticalStackLayout>

        <!-- Add Recipe Modal -->
        <local:AddRecipeModal x:Name="AddModal"
                              IsVisible="False" />

        <!-- Recipe Details Modal -->
        <views:RecipeDetailsModal x:Name="DetailsModal"
                          IsVisible="False"
                          Opacity="0"
                          Grid.RowSpan="2" />

        <views:EditRecipeModal x:Name="EditRecipeModal" IsVisible="False" Opacity="0"/>

    </Grid>
</ContentPage>
